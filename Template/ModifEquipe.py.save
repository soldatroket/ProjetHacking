#!/usr/bin/env python
#coding: utf-8

import ldap
import Utils

def Display(TeamName, TeamMembers, members):
	TeamLength=len(TeamMembers)
	print '''<script>
		function changeNumberValue(event){
			hiddenNumber=document.getElementsByName("number");
			number=event.target.value;
			hiddenNumber[0].value=number;
			var x = document.getElementById("divInputMember");
			x.innerHTML="";
			for (var i=1;i<=number;i++){
				var select = document.createElement("select");
				select.name = i;
				x.appendChild(select);'''
	for i in members:
		print 		'''var opt=document.createElement("option");'''
		print		'''opt.value="'''+i+'''";'''
		print		'''opt.text="'''+i+'''";'''
		print		"select.appendChild(opt);"
	print '''		}
		}


	</script>'''
	print '''<div class="content_position">
			<div class="ListMembers">
				<div class="Titre">
                                                Modification d'équipe 
				</div>
			<br>
			<div class="TableMembers">
				<form method="post" action="b2d.py">
				<table>
					<tr>
						<td>Nom d'équipe</td>
					</tr>
					<tr>
						<td><input type="text" placeholder='''+TeamName+''' name="teamname"></td>
					</tr>
					<tr>
						<td>Nombres de membres</td>
					</tr>
					<tr>
						<td><input type="number" value="'''+str(TeamLength)+'''" min="1" max="'''+str(len(members))+'''" onchange="changeNumberValue(event);"></td>
					</tr>
					<tr>
						<td>
							<div id="divInputMember">'''
	for y in range(TeamLength):
		print "<select name="+str(y)+">"
		print '<option value='+TeamMembers[y]+' selected="selected" >'+TeamMembers[y]+'</option>'
		for i in members:
			if TeamMembers.count(i)==0:
				print '<option value='+i+'>'+i+'</option>'
		print "</select>"
	print '''					</div>
						</td>
					</tr>
					<tr>
						<td><input type="hidden" name="number"><input type="hidden" name="type" value="addequipe"><input type="submit" value="créer"></td>
					</tr>
				</table>
                                </form>
			</div>
        </div>
        </div>
        </body>
        </html>'''
